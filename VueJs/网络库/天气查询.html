<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>天气查询</title>
		<script src="../vue.js"></script>
		<style type="text/css">
			.box {
				display: flex;
				flex-wrap: nowrap;
			}
			.item {
				color: orange;
				font-size: 16px;
				margin-top: 30px;
				padding-left: 90px;
			}
			.icon{
				font-family: "华文行楷";
				color: #FF0000;
				font-size: 25px;
				text-align: center;
				margin-bottom: 16px;
			}
		</style>
	</head>
	<body>
		<div class="icon">@CSDN 庸俗的情怀</div>
		<div id="app">
			<div style="text-align: center;">
				<input type="text" value="请输入城市" v-model="city" />
				<input type="button" value="获取" @click="Get" /><br />
			</div>
			<div class="box">
				<div v-for="item in weatherArr" class="item">
					日期 {{item.date}}<br />
					{{item.low}} ~ {{item.high}}<br />
					风向 {{item.fengxiang}}<br />
					天气 {{item.type}}<br />
					风力 {{item.fengli}}
				</div>
			</div>
		</div>
		<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
		<script>
			var app = new Vue({
				el: "#app",
				methods: {
					Get: function() {
						var that = this //回调函数,this值被改变
						axios.get('http://wthrcdn.etouch.cn/weather_mini?city=' + this.city).then(function(response) {
							console.log(response)
							//console.log(response.data.data.forecast)
							that.weatherArr = response.data.data.forecast
						})
					},
				},
				data: {
					city: '',
					weatherArr: []
				}
			})
		</script>
	</body>
</html>
